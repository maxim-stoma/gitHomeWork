# Инструкция по работе с Git

## Описание системы контроля версий Git
***

Система контроля версий **Git** предназначена для хранения изменений в файлах. Все изменения файлов **Git** *"запоминает"* и позволяет посмотреть эти изменения и, если это нужно, вернуться к версии файла без определенных изменений. Кроме того эта система дает возможность нескольким пользователям изменять файлы параллельно и потом объединять эти изменения.

Система контроля версий **Git** может работать на разных компьютерах:
* Windows;
* Mac;
* Linux;
* etc.

Система контроля версий Git была разработана Линусом Торвальдсом, наиболее известным как создатель ядра операционный системы Linux.

Система контроля версий **Git** является не единственной системой контроля версий - есть и другие разработки (например, Mercurial).

## Основные операции Git
***

Система контроля версий *git* имеет набор команд и параметров этих команд. Каждая команда позволяет выполнить определенное действие. В инструкции рассмотрены некоторые из команд, которые используются наиболее часто и являются основными.

### Инициализация репозитория
***

Для инициализации *репозитория* используется команда *git init*:

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git init
```

Эта команда "преобразует" нашу папку в _**репозиторий**_. Репозиторий - это такая наша папка, в которой будет работать *git* и в которой можно будет сохранять все наши изменения файлов.

Поэтому перед тем, как мы сможем использовать *git*, нам обязательно нужно выполнить команду *git init* и только после её выполнения мы сможем выполнять другие команды *git*.

Хорошо, что такую *инициализацию* нужно выполнять только один раз в самом начале перед другими командами *git*. Для каждой нашей папочки с системой *git* выполнять *инициализацию* нужно только один раз.

### Проверка состояния репозитория
***

Для проверки состояния *репозитория* используется команда *git status*:

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git status
```

Эта команда нужна нам довольно часто. Например, нам надо понять, какие файлы мы поменяли. Или какие новые файлы добавили. Эту команду можно использовать во всех случаях, когда нам надо понять, а какой сейчас наш репозиторий.

### Добавление файла в репозиторий
***

После того как мы *инициализировали репозиторий* (эта команда и её назначение описаны в инструкции ранее) нам нужно добавить те файлы, которые есть в нашей папочке, в репозиторий. Дело в том, что *git* сам не будет "запоминать" изменения наших файлов без нашего указания. Поэтому нам надо "сказать" *git* за какими из наших файлов ему нужно "присматривать".

Для этого используется команда *git add*:

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git add <имя_файла>
```

Вместо <имя_файла> мы указываем имя нашего файла из папочки. *Имя нужно указывать полностью, вместе с расширением (буквы после точки в конце имени)*.

Эту команду для каждого файла, по которому мы хотим видеть все изменения, нужно выполнить только один раз.

Добавлять файлы в репозиторий нам надо только те, что изменяются и нам может быть важно, что именно в них менялось, кем и когда. Поэтому не нужно добавлять в *репозиторий* так называемые *файлы ресурсов* (это картинки, видео, файлы шрифтов и проч.), какие-то уже *собранные* программы и проч. Это сделает наш *репозиторий* очень "большим" - он будет занимать много места, а системе *git* придется хранить историю изменения файлов, по которым нам это и не нужно вовсе.

### Отправка коммита (фиксация изменений)

После того как нужный нам файл добавлен в *репозиторий* и в нем были выполнены изменения нам нужно сохранить эти изменения в системе *git*. Делать нам это нужно потому, что сам *git* не будет "запоминать" наши изменения всякий раз, когда мы сохранили файл. Вместо этого мы должны "сказать" системе *git*, что мы закончили очередной блок изменений и вот в таком "виде" нам нужно запомнить изменения файла.

Для этого в системе *git* есть объекты под названием _**коммиты**_ (_**commit**_). Они как раз и являются так называемыми *фиксациями* измненений нашего файла. То есть с помощью коммита мы как раз и "говорим" системе *git* что ей надо запомнить, как сейчас мы изменили нащ файл. И, когда нам это понадобится, чтобы *git* мог нам "напомнить", что мы изменяли этот файл так сегодня вот в это время и как именно он изменился. Ну и, если нам так будет нужно, то чтобы *git* нам и вернул наш файл именно к такому "виду", такой *версии* файла.

Коммиты создаются с помощью команды *git commit*:

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git commit         
```

Эту команду можно использовать 3 разными способами:

1. Использовать подряд (одну за одно две команды): *git add <имя_файла>* (вместо <имя_файла> указываем имя измененнего файла) и затем команду *git commit -m '<сообщение>'* (вместо <сообщение> указываем название нашего коммита);
2. Использовать команду *git commit -a -m '<сообщение>'* (вместо <сообщение> указываем название нашего коммита);
3. Использовать команду *git commit -am '<сообщение>'* (вместо <сообщение> указываем название нашего коммита).

Каждый способ позволит нам *зафиксировать* изменение нашего файла. Разницы между вариантом 2 и 3 нет - рещультат будет одинаковым, просто немного по-разному используются *параметры* команды. Оба этих варианта добавть **все** измененные файлы в коммит.

А вот вариант 1 работает немного по-другому. В нем мы сначала добавляем нужный(ые) файл(ы) в коммит и только потом его фиксируем. То есть мы делаем два действия.

Все дело в том, что чтобы *зафиксировать* изменения нам нужно сначала "сказать" системе *git* какие файлы мы хотим *зафиксировать* и только потом выполнять жту самую *фиксацию*. В варианте команд 2 и 3 мы это делаем с помощью *параметра* **a** - он "говорит" системе *git* что мы хотим *зафиксировать* все измененные файлы. Поэтому там и команда получается одна. А вот если нам надо обозначить какие именно файлы мы будем *фиксировать* и это не все измененные файлы, то нам подойдет вариант команды 1.

### Просмотр истории коммитов
***

Для того, чтобы посмотреть все наши *фиксации* (*коммиты*) используется команда *git log*:

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git log
```

Эта команда выведет нам список всех *коммитов*, которые мы делали. Это позволит нам псмотреть все изменения (точнее все состояния файлов), которые были *зафиксированы* нашей системой контроля версий git.

### Просмотр истории коммитов с визуализацией
***

Существует вариант команды *git log*, который позволяет посмотреть историю "фиксаций" в более удобном и наглядном виде - это команда *git log --graph*:

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git log --graph
```

Этот вариант команды (та же команда, только с *параметром*) позволяет получить больше информации об истории изменений и в более наглядном виде.

### Создание ветки
***

Система контроля версий *git* позволяет не только отслеживать изменения файлов, но и позволяет разделить изменения файлов по отдельным "частям". Для каждой "части", которая будет создаваться или изменяться отдельно можно создать отдельную _**ветку**_.

Ветка - это часть проекта, которая создается и редактируется отдельно. Это позволяет создавать разные части файлов или разные файлы проекта сразу несколькими людьми. Кроме того это позволит отдельные части файлов или целые файлы создавать и изменять отдельно.

Для создания ветки используется команда *git branch <имя_ветки>* (где <имя_ветки> заменяем на имя нашей будущей ветки):

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git branch <имя_ветки>
```

### Переход между ветками
***

Для перехода между ветками *репозитория* используется команда *git branch <имя_ветки>* (где <имя_ветки> заменяем на имя нашей нужной ветки):

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git branch <имя_ветки>
```

Когда нам нужно переключиться на другую часть нашего *репозитория* мы переключаемся между ветками. В новой ветке будут лишь те файлы и изменения, которые мы делали в этой ветке. Так мы можем разные части нашего *репозитория* редактировать отдельно переключаясь между ветками, когда нам это нужно.

### Слияние веток
***

Когда мы закончили создавать и редактировать отдельную часть нашего *репозитория* в отдельной *ветке* то нам нужно все эти изменения добавить в другую *ветку*. Обычно это либо одна основная ветка, либо ветка более крупной части репозитория. Но в конце мы все изменения все равно захотим чтобы были в одной общей ветке.

Для того, чтобы добавить изменения одной ветки в другую нужно использовать команду *git merge <имя_ветки>* (где <имя_ветки> заменяем на имя нашей готовой ветки):

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git merge <имя_ветки>
```

В этой операции важны несколько моментов:

1. Вызывать эту команду нужно тогда, когда мы перешли **в ту ветку, в которую** мы хотим **добавить** изменения другой ветки и указываем в команде **имя ветки с изменениями**;
2. Такое объединение веток может закончится с ошибкой, если в обеих ветках были внесены изменения в один и тот же файл в одни и те же строки - тогда в таком случае нужно будет вручную опеределить, каким должен быть итоговый собранный файл.

### Удаление веток
***

После того, как изменения в ветке мы перенесли в другую (основную или общую) ветку нам может быть уже не нужна эта дополнительная ветка для изменений - например, мы больше не планируем вносить изменений именно в ней. Поэтому её можно удалить.

Чтобы удалить ветку надо использовать команду *git branch -d <имя_ветки>* (де <имя_ветки> заменяем на имя нашей удаляемой ветки):

```
PS C:\Users\einoz\Documents\Обучение\Введение в контроль версий\Семинар 2\git_education_sem2> git branch -d <имя_ветки>
```

Ветка успешно удалится в том случае, если все её изменения были отправлены в другую ветку.

## Полезные ссылки
***
Некоторые полезные ссылки по работе с Git:

* [Git](https://git-scm.com/ "Официальный сайт Git")

* [Википедия](https://ru.wikipedia.org/wiki/Git "Информация о Git в Википедия")

* [Habr Git](https://habr.com/ru/articles/541258/ "Статья на Habr о Git для начинающих")