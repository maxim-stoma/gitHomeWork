# Инструкция по работе с ***GIT***
------------------

>Мы учимся, когда мы что-то делаем. &copy;Джордж Херберт

<p>Данная инструкция рассчитана на человека, прежде не работавшего с системами контроля версий, однако, возможно, имеющего представление о том, что такое командная строка.
Здесь будут описаны только самые базовые операции, которым и необходимо владеть для успешной работы над научным проектом на Летней школе. 
Если у вас будут возникать какие­либо вопросы — смело обращайтесь к кураторам проектов за разъяснениями и советами. </p>

## Краткое введение и терминология 
Системы контроля версий,  одной из которых является git, используются при работе с самыми разными проектами, начиная от программных проектов и заканчивая написанием книги или статьи. При работе с документами мы часто пользуемся командами ___CTRL+S___ (сохранить) и ___CTRL+Z___ (отменить), а если мы хотим сделать несколько вариантов, нам приходится сохранять каждый из них в отдельный файл, что не всегда удобно. Git же позволяет делать все то же самое, но не на уровне отдельного файла, а на уровне целого проекта. Каталог с проектом в этом случае называется репозиторием (repository). Каждое такое глобальное ___CTRL+S___ называется коммитом (commit) и сохраняет текущую версию проекта, к которой всегда можно будет вернуться в любой момент (глобальный ___CTRL+Z___).
Также возможна работа с несколькими версиями, при этом не возникает множества файлов разных версий (на самом деле все изменения сохраняются в системной папке \*.git, находящейся в корне репозитория, и ее лучше не трогать). Кроме того git позволяет работать с несколькими копиями репозитория, беря на себя все проблемы, связанные с синхронизацией данных. Это не только предохраняет от потери данных, но и делает возможным эффективную командную работу над проектом. 

### Базовые команды

* *git init* - производит инициализацию: необходимо указать папку, в которой git начнёт отслеживать изменения.В папке создаётся скрытая папка .git.
* *git add* - добавляет содержимое рабочего каталога в индекс (staging area) для последующего коммита. Эта команда дается после добавления файлов. Писать название целиком не обязательно: терминал дозаполнит данные автоматически.
* *git commit* - позволяет зафиксировать или сохранить комментарий. Команда *git commit* берёт все данные, добавленные в индекс с помощью *git add*, и сохраняет их
слепок во внутренней базе данных, а затем сдвигает указатель текущей ветки на этот слепок.
* *git status* - показывает текущее состояние гита, есть ли изменения, которые нужно закоммитить (сохранить).
* *git log* - показывает Журнал изменений. Перед переключением версии файла в Git используйте команду git log, чтобы увидеть количество сохранений.
* *git checkout* - позволяет произвести переключение между версиями. Для работы нужно указать не только интересующий вас коммит, но и вернуться в тот, где работаем, при помощи команды *git checkout master*.

#### Дополнительная сводка команд
1. Создание локальной копии главного репозитория: 
 **git clone** https://github.com/oyasnev/test 

    cd test  (не забыть перейти в каталог репозитория)
2. Добавление новых файлов в репозиторий. Избранные файлы: 

    **git add file1 file2 file3**

    Все новые файлы: 
    **git add .**

3. Сохранение изменений файлов: 

    **git commit ­am "commit description"**
4. Получение изменений из главного репозитория: 

    **git pull**
5. Отправка изменений в главный репозиторий (с авторазрешением конфликтов): 

    **git pull** (проверить на наличие новых изменений в репозитории и, если они есть, выкачать их и объединить с локальными изменениями)
    
    **git push** (отправить изменения в репозиторий)

#### Для тех, кто хочет большего 
В интернете без труда можно найти руководства и туториалы, рассчитанные на разные уровни подготовки. 
Приводим некоторые из них: 
1. Интерактивные туториалы [на русском языке](http://githowto.com/ru), [на английском](https://try.github.io) и даже в виде [игры](http://pcottle.github.io/learnGitBranching/).

2. Руководства для начинающих, используемый как [источник](http://cluster.krc.karelia.ru/doc/rukovodstvo_GIT.pdf) для данной статьи.

## Работа с конфликтами
1. Чтобы слить любую ветку с *текущей*, вызываем **git merge** *<имя ветки для слияния с текущей>*.
2. ***git log --graph** позволяет отобразить коммиты в виде дерева.
3. **git diff** — показать разницу между версиями.

4. **git branch** – посмотреть список веток в репозитории
5. **git branch <название ветки>** – создать новую ветку
6. **git checkout <название ветки>** – переход к другой ветке
7. **git branch -d <название ветки>** – удалить ветку
<p>При работе в двух ветках одновременно может возникнуть ситуация, когда в одной и другой ветке мы по-разному изменили блок текста. Если затем мы попробуем слить эти ветки, Git сообщит о конфликте и предложит выбрать, какие же изменения записать.</p><p>Поэтому у проекта в репозитории должен быть один ответственный пользователь, наделённый правом проводить слияния и разрешать конфликты.</p>

![osnovnye-git-komandy.png](osnovnye-git-komandy.png)


Чтобы показать как идет работа с конфликтами, вставляю скрин.

Посмотрим, улыбнется ли проверяющий Тефтельке
![Тефтелька-шкода](shkoda.jpg)

Скрин конфликта
![конфликт](conflict.bmp)

очень рада, что понравилась ***Тефтелька***. Она очень милая)

### Работа с локальным и внешнем репозиторием

Для такой работы идеально подходит GitHub
Могут возникнуть вопросы при создании аккаунта на GitHub (как это было у меня из-за плохой работы Captcha), но когда аккаунт уже создан, то в Git можно пользоваться новыми командами:

1. **git clone <url-адрес репозитория>** – клонирование внешнего репозитория на локальный ПК
2. **git pull** – получение изменений и слияние с локальной версией
3. **git push** – отправляет локальную версию репозитория на внешний
<p>Также сам GitHub помогает с помощью небольших подсказок, чем можно воспользоваться после создания репозитория на нем. Я пользовалась набором команд:</p>

* git remote add origin https://github.com/LukshaMary/[имя_файла].git
* git branch -M main
* git push -u origin main

Также доступно использование команд, связанных с созданием репозитория онлайн на GitHub:

* echo "# new" >> README.md
* git init
* git add README.md
* git commit -m "first commit"
* git branch -M main
* git remote add origin https://github.com/LukshaMary/[имя_файла].git
* git push -u origin main

После использования команды git push, если ты работает в новой ветке (которой нет на GitHub), то высветится ошибка. Исправить ситуацию поможет команда, которую подсказывает git: **git push --set-upstream origin <имя_ветки>**, а после исполнения данной команды на GitHub появится предложение произвести compare & pull request 